(this["webpackJsonpnews-dashboard-react"]=this["webpackJsonpnews-dashboard-react"]||[]).push([[0],{147:function(e,t,n){e.exports=n(304)},152:function(e,t,n){},304:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(17),c=n.n(l),o=(n(152),n(313)),i=function(){return r.a.createElement(o.a,{inverted:!0},r.a.createElement(o.a.Item,null,"News Dashboard"),r.a.createElement(o.a.Item,{position:"right"},"Created by Gregory Cheng"))},u=n(315),s=n(25),d=n(78),m=n.n(d),g=n(314),E=n(41),f=n(311),b=function(e){var t=e.source,n=e.title,l=Object(a.useState)([]),c=Object(s.a)(l,2),o=c[0],i=c[1],u=Object(a.useState)(!1),d=Object(s.a)(u,2),b=d[0],p=d[1];return Object(a.useEffect)((function(){(function(e){return m.a.get("https://news-dashboard-flask.herokuapp.com/".concat(e)).then((function(e){return e.data})).catch((function(e){return console.log(e)}))})(t).then((function(e){i(e.results),p(!0)}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{as:"h1"},n),b?r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,null,o.map((function(e){return r.a.createElement(f.a.Event,{key:e.headline},r.a.createElement(f.a.Content,null,r.a.createElement(f.a.Summary,null,r.a.createElement("a",{href:e.href,target:"_blank",rel:"noopener noreferrer"},e.headline)),r.a.createElement(f.a.Meta,null)))})))):r.a.createElement(E.a,{loading:!0,name:"spinner",size:"large"}))},p=n(312),h=n(308),y=function(e){var t=e.index,n=e.countryCode;return r.a.createElement(p.a,null,r.a.createElement(p.a.Item,null,t.index_name," ",r.a.createElement(h.a,{name:n})),r.a.createElement(p.a.Item,null," ",t.last_price),r.a.createElement(p.a.Item,{style:{color:"+"===t.percent_change[0]?"green":"-"===t.percent_change[0]?"red":"black"}},t.percent_change," (",t.point_change,")"))},v=n(56),O=n(137),x=Object(a.createContext)({indexOrder:[],setIndexOrder:function(){},indexData:void 0,setIndexData:function(){}}),j=function(){var e=Object(a.useContext)(x),t=e.indexOrder,n=e.setIndexOrder,l=e.indexData;return r.a.createElement(r.a.Fragment,null,void 0!==l?r.a.createElement(v.a,{onDragEnd:function(e){if(e.destination){var a=function(e,t,n){var a=Array.from(e),r=a.splice(t,1),l=Object(s.a)(r,1)[0];return a.splice(n,0,l),a}(t,e.source.index,e.destination.index);n(a)}}},r.a.createElement(u.a,{divided:!0,stackable:!0,columns:t.length,style:{paddingTop:"3em",paddingBottom:"3em"}},r.a.createElement(v.c,{droppableId:"droppable",direction:"horizontal"},(function(e,n){return r.a.createElement("div",Object.assign({ref:e.innerRef,style:(n.isDraggingOver,{display:"flex",overflow:"auto"})},e.droppableProps),t.map((function(e,t){return r.a.createElement(u.a.Column,{key:e.symbol},r.a.createElement(v.b,{draggableId:e.symbol,index:t},(function(t,n){return r.a.createElement("div",Object.assign({ref:t.innerRef},t.draggableProps,t.dragHandleProps,{style:(a=n.isDragging,c=t.draggableProps.style,Object(O.a)({padding:"1em",background:a?"lightgreen":"white"},c))}),r.a.createElement(y,{index:l[e.symbol],countryCode:e.country}));var a,c})))})),e.placeholder)})))):r.a.createElement(E.a,{loading:!0,name:"spinner",size:"large"}))},I=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(j,{style:{paddingTop:"2em"}}),r.a.createElement(u.a,{columns:3,divided:!0,stackable:!0},r.a.createElement(u.a.Row,null,r.a.createElement(u.a.Column,null,r.a.createElement(b,{title:"CNBC",source:"cnbc"})),r.a.createElement(u.a.Column,null,r.a.createElement(b,{title:"Aljazeera",source:"aljazeera"})),r.a.createElement(u.a.Column,null,r.a.createElement(b,{title:"NPR",source:"npr"})))))},k=n(309),w=[{symbol:"GSPC",country:"us"},{symbol:"DJI",country:"us"},{symbol:"FTSE",country:"uk"},{symbol:"STOXX50E",country:"eu"},{symbol:"99001.SZ",country:"cn"},{symbol:"HSI",country:"hk"},{symbol:"N225",country:"jp"}],C=function(e){var t=e.children,n=Object(a.useState)(void 0),l=Object(s.a)(n,2),c=l[0],o=l[1],i=Object(a.useState)(void 0),u=Object(s.a)(i,2),d=u[0],g=u[1];Object(a.useEffect)((function(){var e;m.a.get("https://news-dashboard-flask.herokuapp.com/indices").then((function(e){return e.data})).catch((function(e){return console.log(e)})).then((function(e){o(e.results)})).catch((function(e){return console.log(e)})),g(null!==(e=JSON.parse(localStorage.getItem("IndexOrder")))&&void 0!==e?e:w)}),[]);return r.a.createElement(x.Provider,{value:{indexOrder:d,setIndexOrder:function(e){localStorage.setItem("IndexOrder",JSON.stringify(e)),g(e)},indexData:c,setIndexData:o}},t)};var S=function(){return r.a.createElement(C,null,r.a.createElement(i,null),r.a.createElement(k.a,null,r.a.createElement(I,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[147,1,2]]]);
//# sourceMappingURL=main.4c67f4ec.chunk.js.map