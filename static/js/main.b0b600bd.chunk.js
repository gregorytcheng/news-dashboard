(this["webpackJsonpnews-dashboard-react"]=this["webpackJsonpnews-dashboard-react"]||[]).push([[0],{151:function(e,n,t){e.exports=t(308)},156:function(e,n,t){},308:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(18),c=t.n(o),l=(t(156),t(318)),i=function(){return a.a.createElement(l.a,{inverted:!0},a.a.createElement(l.a.Item,null,"News Dashboard"),a.a.createElement(l.a.Item,{position:"right"},"Created by Gregory Cheng"))},d=t(319),s=t(27),u=t(316),m=t(312),f=function(e){var n=e.index;return a.a.createElement(u.a,null,a.a.createElement(u.a.Item,null,n.index_name," ",a.a.createElement(m.a,{name:n.country})),a.a.createElement(u.a.Item,null," ",n.last_price),a.a.createElement(u.a.Item,{style:{color:"+"===n.percent_change[0]?"green":"-"===n.percent_change[0]?"red":"black"}},n.percent_change," (",n.point_change,")"))},g=t(29),b=t(141),E=t(15),p=function(e,n,t){var r=Array.from(e),a=r.splice(n,1),o=Object(E.a)(a,1)[0];return r.splice(t,0,o),r},O=function(e,n){return Object(b.a)({padding:"1em",background:e?"lightgreen":"white"},n)},h=Object(r.createContext)({indexOrder:[],setIndexOrder:function(){},addToIndexOrder:function(){},removeFromIndexOrder:function(){},indexData:void 0}),v=function(){var e=Object(r.useContext)(h),n=e.indexOrder,t=e.setIndexOrder,o=e.indexData;return a.a.createElement(a.a.Fragment,null,void 0!==o?a.a.createElement(g.a,{onDragEnd:function(e){if(e.destination){var r=p(n,e.source.index,e.destination.index);t(r)}}},a.a.createElement(d.a,{divided:!0,stackable:!0,columns:n.length,style:{paddingTop:"3em",paddingBottom:"3em"}},a.a.createElement(g.c,{droppableId:"droppable",direction:"horizontal"},(function(e,t){return a.a.createElement("div",Object.assign({ref:e.innerRef,style:(t.isDraggingOver,{display:"flex",overflow:"auto"})},e.droppableProps),n.map((function(e,n){return a.a.createElement(d.a.Column,{key:e.symbol},a.a.createElement(g.b,{draggableId:e.symbol,index:n},(function(n,t){return a.a.createElement("div",Object.assign({ref:n.innerRef},n.draggableProps,n.dragHandleProps,{style:O(t.isDragging,n.draggableProps.style)}),a.a.createElement(f,{index:o[e.symbol]}))})))})),e.placeholder)})))):a.a.createElement(s.a,{loading:!0,name:"spinner",size:"large"}))},y=t(317),x=t(322),w=t(320),j=t(321),F=function(){var e=Object(r.useContext)(h),n=e.indexOrder,t=e.indexData,o=e.addToIndexOrder,c=e.removeFromIndexOrder,l=Object(r.useState)(!1),i=Object(E.a)(l,2),d=i[0],s=i[1],u=function(){return s(!1)};return a.a.createElement(a.a.Fragment,null,a.a.createElement(y.a,{onClick:function(){return s(!0)}},"Customize indices"),a.a.createElement(x.a,{onClose:u,open:d},a.a.createElement(w.a,{style:{left:"40%",position:"fixed",top:"10%",zIndex:1e3}},a.a.createElement(j.a,null,"Customize indices"),a.a.createElement("p",null,"Add or remove indices here. You can also rearrange the indices on the dashboard."),t&&a.a.createElement("div",{style:{overflow:"scroll",height:"500px"}},Object.keys(t).map((function(e){var r=n.find((function(n){return n.symbol===e})),l=t[e];return a.a.createElement("div",{key:l.index_name,style:{backgroundColor:r?"lightgrey":"white",padding:"1em 0 1em 0"},onClick:r?function(){return c({symbol:e})}:function(){return o({symbol:e})}},a.a.createElement(f,{index:l}))}))),a.a.createElement(y.a,{content:"Close",onClick:u,style:{marginTop:"1em"}}))))},I=Object(r.createContext)({newsFeedOrder:[],setNewsFeedOrder:function(){},addToNewsFeedOrder:function(){},removeFromNewsFeedOrder:function(){},allNewsFeeds:[]}),C=t(60),k=t.n(C),N="https://news-dashboard-flask.herokuapp.com",S=t(315),z=function(e){var n=e.source,t=e.title,o=Object(r.useState)([]),c=Object(E.a)(o,2),l=c[0],i=c[1],d=Object(r.useState)(!1),u=Object(E.a)(d,2),m=u[0],f=u[1];return Object(r.useEffect)((function(){(function(e){return k.a.get("".concat(N,"/").concat(e)).then((function(e){return e.data})).catch((function(e){return console.log(e)}))})(n).then((function(e){i(e.results),f(!0)}))}),[]),a.a.createElement(a.a.Fragment,null,a.a.createElement(j.a,{as:"h1"},t),m?a.a.createElement(a.a.Fragment,null,a.a.createElement(S.a,null,l.map((function(e){return a.a.createElement(S.a.Event,{key:e.headline},a.a.createElement(S.a.Content,null,a.a.createElement(S.a.Summary,null,a.a.createElement("a",{href:e.href,target:"_blank",rel:"noopener noreferrer"},e.headline)),a.a.createElement(S.a.Meta,null)))})))):a.a.createElement(s.a,{loading:!0,name:"spinner",size:"large"}))},D=function(){var e=Object(r.useContext)(I),n=e.newsFeedOrder,t=e.setNewsFeedOrder;return a.a.createElement(g.a,{onDragEnd:function(e){if(e.destination){var r=p(n,e.source.index,e.destination.index);t(r)}}},a.a.createElement(d.a,{columns:3,divided:!0,stackable:!0},a.a.createElement(g.c,{droppableId:"droppable",direction:"horizontal"},(function(e,t){return a.a.createElement("div",Object.assign({ref:e.innerRef,style:(t.isDraggingOver,{display:"flex",overflow:"auto"})},e.droppableProps),n.map((function(e,n){return a.a.createElement(d.a.Column,{key:e.source},a.a.createElement(g.b,{draggableId:e.source,index:n},(function(n,t){return a.a.createElement("div",Object.assign({ref:n.innerRef},n.draggableProps,n.dragHandleProps,{style:O(t.isDragging,n.draggableProps.style)}),a.a.createElement(z,{title:e.name,source:e.source}))})))})),e.placeholder)}))))},P=function(){var e=Object(r.useContext)(I),n=e.newsFeedOrder,t=(e.setNewsFeedOrder,e.addToNewsFeedOrder),o=e.removeFromNewsFeedOrder,c=e.allNewsFeeds,l=Object(r.useState)(!1),i=Object(E.a)(l,2),d=i[0],s=i[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(y.a,{onClick:function(){return s(!0)}},"Customize news feeds"),a.a.createElement(x.a,{onClose:function(){return s(!1)},open:d},a.a.createElement(w.a,{style:{left:"40%",position:"fixed",top:"10%",zIndex:1e3}},a.a.createElement(j.a,null,"Customize news sources"),a.a.createElement("p",null,"Add or remove news sources here. You can also rearrange the news feeds on the dashboard."),c&&a.a.createElement("div",{style:{overflow:"scroll",height:"500px"}},c.map((function(e){var r=n.find((function(n){return n.name===e.name}));return a.a.createElement("div",{key:e.source,style:{backgroundColor:r?"lightgrey":"white",padding:"1em 0 1em 0"},onClick:r?function(){return o(e)}:function(){return t(e)}},e.name)}))))))},T=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(v,{style:{paddingTop:"2em"}}),a.a.createElement(D,null),a.a.createElement("div",{style:{paddingTop:"1em"}},a.a.createElement(F,null),a.a.createElement(P,null)))},_=t(313),J=[{symbol:"GSPC"},{symbol:"DJI"},{symbol:"FTSE"},{symbol:"STOXX50E"},{symbol:"99001.SZ"},{symbol:"HSI"},{symbol:"N225"}],A=function(e){var n=e.children,t=Object(r.useState)(void 0),o=Object(E.a)(t,2),c=o[0],l=o[1],i=Object(r.useState)(void 0),d=Object(E.a)(i,2),s=d[0],u=d[1];Object(r.useEffect)((function(){var e;k.a.get("".concat(N,"/indices")).then((function(e){return e.data})).catch((function(e){return console.log(e)})).then((function(e){l(e.results)})).catch((function(e){return console.log(e)})),u(null!==(e=JSON.parse(localStorage.getItem("IndexOrder")))&&void 0!==e?e:J)}),[]);var m=function(e){localStorage.setItem("IndexOrder",JSON.stringify(e)),u(e)};return a.a.createElement(h.Provider,{value:{indexOrder:s,setIndexOrder:m,addToIndexOrder:function(e){var n=Array.from(s);n.push(e),m(n)},removeFromIndexOrder:function(e){var n=s.filter((function(n){return e.symbol!==n.symbol}));m(n)},indexData:c}},n)},R=[{name:"CNBC",source:"cnbc"},{name:"Aljazeera",source:"aljazeera"},{name:"NPR",source:"npr"}],B=function(e){var n=e.children,t=Object(r.useState)([]),o=Object(E.a)(t,2),c=o[0],l=o[1],i=Object(r.useState)([]),d=Object(E.a)(i,2),s=d[0],u=d[1];Object(r.useEffect)((function(){var e;l(null!==(e=JSON.parse(localStorage.getItem("NewsFeedOrder")))&&void 0!==e?e:R),k.a.get("".concat(N,"/sources")).then((function(e){return e.data})).catch((function(e){return console.log(e)})).then((function(e){u(e.results)}))}),[]);var m=function(e){localStorage.setItem("NewsFeedOrder",JSON.stringify(e)),l(e)};return a.a.createElement(I.Provider,{value:{newsFeedOrder:c,setNewsFeedOrder:m,addToNewsFeedOrder:function(e){var n=Array.from(c);n.push(e),m(n)},removeFromNewsFeedOrder:function(e){var n=c.filter((function(n){return n.source!==e.source}));m(n)},allNewsFeeds:s}},n)};var H=function(){return a.a.createElement(A,null,a.a.createElement(B,null,a.a.createElement(i,null),a.a.createElement(_.a,null,a.a.createElement(T,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[151,1,2]]]);
//# sourceMappingURL=main.b0b600bd.chunk.js.map