(this["webpackJsonpnews-dashboard-react"]=this["webpackJsonpnews-dashboard-react"]||[]).push([[0],{151:function(e,n,t){e.exports=t(308)},156:function(e,n,t){},308:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(18),l=t.n(o),c=(t(156),t(318)),i=function(){return r.a.createElement(c.a,{inverted:!0},r.a.createElement(c.a.Item,null,"News Dashboard"),r.a.createElement(c.a.Item,{position:"right"},"Created by Gregory Cheng"))},d=t(319),s=t(26),u=t(316),m=t(312),f=function(e){var n=e.index;return r.a.createElement(u.a,null,r.a.createElement(u.a.Item,null,n.index_name," ",r.a.createElement(m.a,{name:n.country})),r.a.createElement(u.a.Item,null," ",n.last_price),r.a.createElement(u.a.Item,{style:{color:"+"===n.percent_change[0]?"green":"-"===n.percent_change[0]?"red":"black"}},n.percent_change," (",n.point_change,")"))},g=t(28),b=t(141),p=t(16),E=function(e,n,t){var a=Array.from(e),r=a.splice(n,1),o=Object(p.a)(r,1)[0];return a.splice(t,0,o),a},O=function(e,n){return Object(b.a)({padding:"1em",background:e?"lightgreen":"white"},n)},h=Object(a.createContext)({indexOrder:[],setIndexOrder:function(){},addToIndexOrder:function(){},removeFromIndexOrder:function(){},indexData:void 0}),v=function(){var e=Object(a.useContext)(h),n=e.indexOrder,t=e.setIndexOrder,o=e.indexData;return r.a.createElement(r.a.Fragment,null,void 0!==o?r.a.createElement(g.a,{onDragEnd:function(e){if(e.destination){var a=E(n,e.source.index,e.destination.index);t(a)}}},r.a.createElement(d.a,{divided:!0,stackable:!0,columns:n.length,style:{paddingTop:"3em",paddingBottom:"3em"}},r.a.createElement(g.c,{droppableId:"droppable",direction:"horizontal"},(function(e,t){return r.a.createElement("div",Object.assign({ref:e.innerRef,style:(t.isDraggingOver,{display:"flex",overflow:"auto"})},e.droppableProps),n.map((function(e,n){return r.a.createElement(d.a.Column,{key:e.symbol},r.a.createElement(g.b,{draggableId:e.symbol,index:n},(function(n,t){return r.a.createElement("div",Object.assign({ref:n.innerRef},n.draggableProps,n.dragHandleProps,{style:O(t.isDragging,n.draggableProps.style)}),r.a.createElement(f,{index:o[e.symbol]}))})))})),e.placeholder)})))):r.a.createElement(s.a,{loading:!0,name:"spinner",size:"large"}))},y=t(317),x=t(322),j=t(320),I=t(321),w=function(){var e=Object(a.useContext)(h),n=e.indexOrder,t=e.indexData,o=e.addToIndexOrder,l=e.removeFromIndexOrder,c=Object(a.useState)(!1),i=Object(p.a)(c,2),d=i[0],s=i[1],u=function(){return s(!1)};return r.a.createElement("div",null,r.a.createElement(y.a,{onClick:function(){return s(!0)}},"Customize Indices"),r.a.createElement(x.a,{onClose:u,open:d},r.a.createElement(j.a,{style:{left:"40%",position:"fixed",top:"10%",zIndex:1e3}},r.a.createElement(I.a,null,"Customize indices"),r.a.createElement("p",null,"Add or remove popular indices here. You can also rearrange the indices on the dashboard."),t&&r.a.createElement("div",{style:{overflow:"scroll",height:"500px"}},Object.keys(t).map((function(e){var a=n.find((function(n){return n.symbol===e})),c=t[e];return r.a.createElement("div",{key:c.index_name,style:{backgroundColor:a?"lightgreen":"darksalmon",padding:"1em 0 1em 0"},onClick:a?function(){return l({symbol:e})}:function(){return o({symbol:e})}},r.a.createElement(f,{index:c}))}))),r.a.createElement(y.a,{content:"Close",onClick:u,style:{marginTop:"1em"}}))))},k=Object(a.createContext)({newsFeedOrder:[],setNewsFeedOrder:function(){}}),C=t(87),S=t.n(C),F=t(315),N=function(e){var n=e.source,t=e.title,o=Object(a.useState)([]),l=Object(p.a)(o,2),c=l[0],i=l[1],d=Object(a.useState)(!1),u=Object(p.a)(d,2),m=u[0],f=u[1];return Object(a.useEffect)((function(){(function(e){return S.a.get("https://news-dashboard-flask.herokuapp.com/".concat(e)).then((function(e){return e.data})).catch((function(e){return console.log(e)}))})(n).then((function(e){i(e.results),f(!0)}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{as:"h1"},t),m?r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,null,c.map((function(e){return r.a.createElement(F.a.Event,{key:e.headline},r.a.createElement(F.a.Content,null,r.a.createElement(F.a.Summary,null,r.a.createElement("a",{href:e.href,target:"_blank",rel:"noopener noreferrer"},e.headline)),r.a.createElement(F.a.Meta,null)))})))):r.a.createElement(s.a,{loading:!0,name:"spinner",size:"large"}))},D=function(){var e=Object(a.useContext)(k),n=e.newsFeedOrder,t=e.setNewsFeedOrder;return r.a.createElement(g.a,{onDragEnd:function(e){if(e.destination){var a=E(n,e.source.index,e.destination.index);t(a)}}},r.a.createElement(d.a,{columns:3,divided:!0,stackable:!0},r.a.createElement(g.c,{droppableId:"droppable",direction:"horizontal"},(function(e,t){return r.a.createElement("div",Object.assign({ref:e.innerRef,style:(t.isDraggingOver,{display:"flex",overflow:"auto"})},e.droppableProps),n.map((function(e,n){return r.a.createElement(d.a.Column,{key:e.source},r.a.createElement(g.b,{draggableId:e.source,index:n},(function(n,t){return r.a.createElement("div",Object.assign({ref:n.innerRef},n.draggableProps,n.dragHandleProps,{style:O(t.isDragging,n.draggableProps.style)}),r.a.createElement(N,{title:e.name,source:e.source}))})))})),e.placeholder)}))))},P=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(v,{style:{paddingTop:"2em"}}),r.a.createElement(D,null),r.a.createElement(w,null))},z=t(313),T=[{symbol:"GSPC"},{symbol:"DJI"},{symbol:"FTSE"},{symbol:"STOXX50E"},{symbol:"99001.SZ"},{symbol:"HSI"},{symbol:"N225"}],_=function(e){var n=e.children,t=Object(a.useState)(void 0),o=Object(p.a)(t,2),l=o[0],c=o[1],i=Object(a.useState)(void 0),d=Object(p.a)(i,2),s=d[0],u=d[1];Object(a.useEffect)((function(){var e;S.a.get("https://news-dashboard-flask.herokuapp.com/indices").then((function(e){return e.data})).catch((function(e){return console.log(e)})).then((function(e){c(e.results)})).catch((function(e){return console.log(e)})),u(null!==(e=JSON.parse(localStorage.getItem("IndexOrder")))&&void 0!==e?e:T)}),[]);var m=function(e){localStorage.setItem("IndexOrder",JSON.stringify(e)),u(e)};return r.a.createElement(h.Provider,{value:{indexOrder:s,setIndexOrder:m,addToIndexOrder:function(e){var n=Array.from(s);n.push(e),m(n)},removeFromIndexOrder:function(e){var n=s.filter((function(n){return e.symbol!==n.symbol}));m(n)},indexData:l}},n)},J=[{name:"CNBC",source:"cnbc"},{name:"Aljazeera",source:"aljazeera"},{name:"NPR",source:"npr"}],R=function(e){var n=e.children,t=Object(a.useState)([]),o=Object(p.a)(t,2),l=o[0],c=o[1];Object(a.useEffect)((function(){var e;c(null!==(e=JSON.parse(localStorage.getItem("NewsFeedOrder")))&&void 0!==e?e:J)}),[]);return r.a.createElement(k.Provider,{value:{newsFeedOrder:l,setNewsFeedOrder:function(e){localStorage.setItem("NewsFeedOrder",JSON.stringify(e)),c(e)}}},n)};var A=function(){return r.a.createElement(_,null,r.a.createElement(R,null,r.a.createElement(i,null),r.a.createElement(z.a,null,r.a.createElement(P,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[151,1,2]]]);
//# sourceMappingURL=main.9a69ec69.chunk.js.map