(this["webpackJsonpnews-dashboard-react"]=this["webpackJsonpnews-dashboard-react"]||[]).push([[0],{151:function(e,n,t){e.exports=t(308)},156:function(e,n,t){},308:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),l=t(17),o=t.n(l),c=(t(156),t(318)),i=function(){return r.a.createElement(c.a,{inverted:!0},r.a.createElement(c.a.Item,null,"News Dashboard"),r.a.createElement(c.a.Item,{position:"right"},"Created by Gregory Cheng"))},u=t(320),d=t(20),m=t(83),s=t.n(m),f=t(319),g=t(26),E=t(315),b=function(e){var n=e.source,t=e.title,l=Object(a.useState)([]),o=Object(d.a)(l,2),c=o[0],i=o[1],u=Object(a.useState)(!1),m=Object(d.a)(u,2),b=m[0],p=m[1];return Object(a.useEffect)((function(){(function(e){return s.a.get("https://news-dashboard-flask.herokuapp.com/".concat(e)).then((function(e){return e.data})).catch((function(e){return console.log(e)}))})(n).then((function(e){i(e.results),p(!0)}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{as:"h1"},t),b?r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,null,c.map((function(e){return r.a.createElement(E.a.Event,{key:e.headline},r.a.createElement(E.a.Content,null,r.a.createElement(E.a.Summary,null,r.a.createElement("a",{href:e.href,target:"_blank",rel:"noopener noreferrer"},e.headline)),r.a.createElement(E.a.Meta,null)))})))):r.a.createElement(g.a,{loading:!0,name:"spinner",size:"large"}))},p=t(316),h=t(312),v=function(e){var n=e.index;return r.a.createElement(p.a,null,r.a.createElement(p.a.Item,null,n.index_name," ",r.a.createElement(h.a,{name:n.country})),r.a.createElement(p.a.Item,null," ",n.last_price),r.a.createElement(p.a.Item,{style:{color:"+"===n.percent_change[0]?"green":"-"===n.percent_change[0]?"red":"black"}},n.percent_change," (",n.point_change,")"))},y=t(59),O=t(141),x=Object(a.createContext)({indexOrder:[],setIndexOrder:function(){},addToIndexOrder:function(){},removeFromIndexOrder:function(){},indexData:void 0}),I=function(){var e=Object(a.useContext)(x),n=e.indexOrder,t=e.setIndexOrder,l=e.indexData;return r.a.createElement(r.a.Fragment,null,void 0!==l?r.a.createElement(y.a,{onDragEnd:function(e){if(e.destination){var a=function(e,n,t){var a=Array.from(e),r=a.splice(n,1),l=Object(d.a)(r,1)[0];return a.splice(t,0,l),a}(n,e.source.index,e.destination.index);t(a)}}},r.a.createElement(u.a,{divided:!0,stackable:!0,columns:n.length,style:{paddingTop:"3em",paddingBottom:"3em"}},r.a.createElement(y.c,{droppableId:"droppable",direction:"horizontal"},(function(e,t){return r.a.createElement("div",Object.assign({ref:e.innerRef,style:(t.isDraggingOver,{display:"flex",overflow:"auto"})},e.droppableProps),n.map((function(e,n){return r.a.createElement(u.a.Column,{key:e.symbol},r.a.createElement(y.b,{draggableId:e.symbol,index:n},(function(n,t){return r.a.createElement("div",Object.assign({ref:n.innerRef},n.draggableProps,n.dragHandleProps,{style:(a=t.isDragging,o=n.draggableProps.style,Object(O.a)({padding:"1em",background:a?"lightgreen":"white"},o))}),r.a.createElement(v,{index:l[e.symbol]}));var a,o})))})),e.placeholder)})))):r.a.createElement(g.a,{loading:!0,name:"spinner",size:"large"}))},j=t(317),k=t(322),C=t(321),w=function(){var e=Object(a.useContext)(x),n=e.indexOrder,t=e.indexData,l=e.addToIndexOrder,o=e.removeFromIndexOrder,c=Object(a.useState)(!1),i=Object(d.a)(c,2),u=i[0],m=i[1],s=function(){return m(!1)};return r.a.createElement("div",null,r.a.createElement(j.a,{onClick:function(){return m(!0)}},"Customize Indices"),r.a.createElement(k.a,{onClose:s,open:u},r.a.createElement(C.a,{style:{left:"40%",position:"fixed",top:"10%",zIndex:1e3}},r.a.createElement(f.a,null,"Customize indices"),r.a.createElement("p",null,"Add or remove popular indices here. You can also rearrange the indices on the dashboard."),t&&r.a.createElement("div",{style:{overflow:"scroll",height:"500px"}},Object.keys(t).map((function(e){var a=n.find((function(n){return n.symbol===e})),c=t[e];return r.a.createElement("div",{key:c.index_name,style:{backgroundColor:a?"lightgreen":"darksalmon",padding:"1em 0 1em 0"},onClick:a?function(){return o({symbol:e})}:function(){return l({symbol:e})}},r.a.createElement(v,{index:c}))}))),r.a.createElement(j.a,{content:"Close",onClick:s,style:{marginTop:"1em"}}))))},S=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(I,{style:{paddingTop:"2em"}}),r.a.createElement(u.a,{columns:3,divided:!0,stackable:!0},r.a.createElement(u.a.Row,null,r.a.createElement(u.a.Column,null,r.a.createElement(b,{title:"CNBC",source:"cnbc"})),r.a.createElement(u.a.Column,null,r.a.createElement(b,{title:"Aljazeera",source:"aljazeera"})),r.a.createElement(u.a.Column,null,r.a.createElement(b,{title:"NPR",source:"npr"})))),r.a.createElement(w,null))},D=t(313),z=[{symbol:"GSPC"},{symbol:"DJI"},{symbol:"FTSE"},{symbol:"STOXX50E"},{symbol:"99001.SZ"},{symbol:"HSI"},{symbol:"N225"}],F=function(e){var n=e.children,t=Object(a.useState)(void 0),l=Object(d.a)(t,2),o=l[0],c=l[1],i=Object(a.useState)(void 0),u=Object(d.a)(i,2),m=u[0],f=u[1];Object(a.useEffect)((function(){var e;s.a.get("https://news-dashboard-flask.herokuapp.com/indices").then((function(e){return e.data})).catch((function(e){return console.log(e)})).then((function(e){c(e.results)})).catch((function(e){return console.log(e)})),f(null!==(e=JSON.parse(localStorage.getItem("IndexOrder")))&&void 0!==e?e:z)}),[]);var g=function(e){localStorage.setItem("IndexOrder",JSON.stringify(e)),f(e)};return r.a.createElement(x.Provider,{value:{indexOrder:m,setIndexOrder:g,addToIndexOrder:function(e){var n=Array.from(m);n.push(e),g(n)},removeFromIndexOrder:function(e){var n=m.filter((function(n){return e.symbol!==n.symbol}));g(n)},indexData:o}},n)};var T=function(){return r.a.createElement(F,null,r.a.createElement(i,null),r.a.createElement(D.a,null,r.a.createElement(S,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[151,1,2]]]);
//# sourceMappingURL=main.d463aa39.chunk.js.map